# Railway Configuration - Auto-updated on each deployment
# Last Update: Dec 31 2025 - P0/P1 Dashboard Audit Implementation
[build]
builder = "nixpacks"

[build.nixpacksPlan]
phases.setup.nixPkgs = ["nodejs"]
phases.install.cmds = [
  "npm ci --no-cache",
  "echo 'Build started at:' $(date -u)"
]
phases.build.cmds = [
  "rm -rf node_modules/.vite build dist",
  "npm run build",
  "echo 'Build completed at:' $(date -u)"
]

[deploy]
startCommand = "node server.js"
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10
